{"ast":null,"code":"import _regeneratorRuntime from\"D:/MernCapstone/server/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/MernCapstone/server/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/MernCapstone/server/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState}from'react';import{NavLink,useNavigate}from'react-router-dom';import{UserContext}from'../App';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Login=function Login(){var _useContext=useContext(UserContext),state=_useContext.state,dispatch=_useContext.dispatch;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var navigate=useNavigate();var loginUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var res,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return fetch('/signin',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:email,password:password})});case 3:res=_context.sent;data=res.json();if(res.status===400||!data){window.alert('Invalid Credentials');}else{dispatch({type:'USER',payload:true});window.alert('Login Successfull');navigate.push('/');}case 6:case\"end\":return _context.stop();}}},_callee);}));return function loginUser(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"container mt-5\",children:/*#__PURE__*/_jsx(\"div\",{class:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"form\",{method:\"POST\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{name:\"email\",value:email,id:\"email\",type:\"email\",className:\"form-control\",onChange:function onChange(e){setEmail(e.taeget.value);},placeholder:\"Enter email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",value:password,id:\"password\",type:\"password\",className:\"form-control\",onChange:function onChange(e){setPassword(e.taeget.value);},placeholder:\"Enter password\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-grid\",children:/*#__PURE__*/_jsx(\"button\",{name:\"submit\",id:\"submit\",type:\"submit\",onClick:loginUser,className:\"btn btn-primary\",children:\"Login\"})}),/*#__PURE__*/_jsxs(\"p\",{className:\"forgot-password text-right\",children:[\"Dont have an account \",/*#__PURE__*/_jsx(NavLink,{to:\"/signup\",children:\"Sign Up?\"})]})]})})})});};export default Login;","map":{"version":3,"names":["React","useContext","useState","NavLink","useNavigate","UserContext","Login","state","dispatch","email","setEmail","password","setPassword","navigate","loginUser","e","preventDefault","fetch","method","headers","body","JSON","stringify","res","data","json","status","window","alert","type","payload","push","taeget","value"],"sources":["D:/MernCapstone/server/client/src/components/Login.js"],"sourcesContent":["import React, { useContext, useState } from 'react';\r\nimport { NavLink, useNavigate } from 'react-router-dom';\r\nimport { UserContext } from '../App';\r\n\r\nconst Login = () => {\r\n\tconst { state, dispatch } = useContext(UserContext);\r\n\tconst [email, setEmail] = useState('');\r\n\tconst [password, setPassword] = useState('');\r\n\tconst navigate = useNavigate();\r\n\r\n\tconst loginUser = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tconst res = await fetch('/signin', {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\temail,\r\n\t\t\t\tpassword,\r\n\t\t\t}),\r\n\t\t});\r\n\r\n\t\tconst data = res.json();\r\n\r\n\t\tif (res.status === 400 || !data) {\r\n\t\t\twindow.alert('Invalid Credentials');\r\n\t\t} else {\r\n\t\t\tdispatch({ type: 'USER', payload: true });\r\n\t\t\twindow.alert('Login Successfull');\r\n\t\t\tnavigate.push('/');\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className='container mt-5'>\r\n\t\t\t\t<div class='col-md-6'>\r\n\t\t\t\t\t<form method='POST'>\r\n\t\t\t\t\t\t<h3>Login</h3>\r\n\r\n\t\t\t\t\t\t<div className='mb-3'>\r\n\t\t\t\t\t\t\t<label>Email address</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\t\tid='email'\r\n\t\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\tsetEmail(e.taeget.value);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tplaceholder='Enter email'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className='mb-3'>\r\n\t\t\t\t\t\t\t<label>Password</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\t\tid='password'\r\n\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\tsetPassword(e.taeget.value);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tplaceholder='Enter password'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className='d-grid'>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tname='submit'\r\n\t\t\t\t\t\t\t\tid='submit'\r\n\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\tonClick={loginUser}\r\n\t\t\t\t\t\t\t\tclassName='btn btn-primary'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tLogin\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<p className='forgot-password text-right'>\r\n\t\t\t\t\t\t\tDont have an account <NavLink to='/signup'>Sign Up?</NavLink>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"yWAAA,MAAOA,MAAP,EAAgBC,UAAhB,CAA4BC,QAA5B,KAA4C,OAA5C,CACA,OAASC,OAAT,CAAkBC,WAAlB,KAAqC,kBAArC,CACA,OAASC,WAAT,KAA4B,QAA5B,C,6IAEA,GAAMC,MAAK,CAAG,QAARA,MAAQ,EAAM,CACnB,gBAA4BL,UAAU,CAACI,WAAD,CAAtC,CAAQE,KAAR,aAAQA,KAAR,CAAeC,QAAf,aAAeA,QAAf,CACA,cAA0BN,QAAQ,CAAC,EAAD,CAAlC,wCAAOO,KAAP,eAAcC,QAAd,eACA,eAAgCR,QAAQ,CAAC,EAAD,CAAxC,yCAAOS,QAAP,eAAiBC,WAAjB,eACA,GAAMC,SAAQ,CAAGT,WAAW,EAA5B,CAEA,GAAMU,UAAS,4FAAG,iBAAOC,CAAP,iIACjBA,CAAC,CAACC,cAAF,GADiB,sBAECC,MAAK,CAAC,SAAD,CAAY,CAClCC,MAAM,CAAE,MAD0B,CAElCC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAFyB,CAGlCC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACpBb,KAAK,CAALA,KADoB,CAEpBE,QAAQ,CAARA,QAFoB,CAAf,CAH4B,CAAZ,CAFN,QAEXY,GAFW,eAWXC,IAXW,CAWJD,GAAG,CAACE,IAAJ,EAXI,CAajB,GAAIF,GAAG,CAACG,MAAJ,GAAe,GAAf,EAAsB,CAACF,IAA3B,CAAiC,CAChCG,MAAM,CAACC,KAAP,CAAa,qBAAb,EACA,CAFD,IAEO,CACNpB,QAAQ,CAAC,CAAEqB,IAAI,CAAE,MAAR,CAAgBC,OAAO,CAAE,IAAzB,CAAD,CAAR,CACAH,MAAM,CAACC,KAAP,CAAa,mBAAb,EACAf,QAAQ,CAACkB,IAAT,CAAc,GAAd,EACA,CAnBgB,sDAAH,kBAATjB,UAAS,4CAAf,CAsBA,mBACC,sCACC,YAAK,SAAS,CAAC,gBAAf,uBACC,YAAK,KAAK,CAAC,UAAX,uBACC,cAAM,MAAM,CAAC,MAAb,wBACC,6BADD,cAGC,aAAK,SAAS,CAAC,MAAf,wBACC,wCADD,cAEC,cACC,IAAI,CAAC,OADN,CAEC,KAAK,CAAEL,KAFR,CAGC,EAAE,CAAC,OAHJ,CAIC,IAAI,CAAC,OAJN,CAKC,SAAS,CAAC,cALX,CAMC,QAAQ,CAAE,kBAACM,CAAD,CAAO,CAChBL,QAAQ,CAACK,CAAC,CAACiB,MAAF,CAASC,KAAV,CAAR,CACA,CARF,CASC,WAAW,CAAC,aATb,EAFD,GAHD,cAkBC,aAAK,SAAS,CAAC,MAAf,wBACC,mCADD,cAEC,cACC,IAAI,CAAC,UADN,CAEC,KAAK,CAAEtB,QAFR,CAGC,EAAE,CAAC,UAHJ,CAIC,IAAI,CAAC,UAJN,CAKC,SAAS,CAAC,cALX,CAMC,QAAQ,CAAE,kBAACI,CAAD,CAAO,CAChBH,WAAW,CAACG,CAAC,CAACiB,MAAF,CAASC,KAAV,CAAX,CACA,CARF,CASC,WAAW,CAAC,gBATb,EAFD,GAlBD,cAiCC,YAAK,SAAS,CAAC,QAAf,uBACC,eACC,IAAI,CAAC,QADN,CAEC,EAAE,CAAC,QAFJ,CAGC,IAAI,CAAC,QAHN,CAIC,OAAO,CAAEnB,SAJV,CAKC,SAAS,CAAC,iBALX,mBADD,EAjCD,cA4CC,WAAG,SAAS,CAAC,4BAAb,gDACsB,KAAC,OAAD,EAAS,EAAE,CAAC,SAAZ,sBADtB,GA5CD,GADD,EADD,EADD,EADD,CAwDA,CApFD,CAsFA,cAAeR,MAAf"},"metadata":{},"sourceType":"module"}